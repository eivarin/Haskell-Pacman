<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa2</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Fun&#231;&#227;o referente &#224; primeira fase da fun&#231;&#227;o play e as auxiliares a esta</a></li><li><a href="#g:2">Segunda fase da fun&#231;&#227;o play e as auxiliares a esta</a></li><li><a href="#g:3">Fun&#231;&#245;es relacionadas aos t&#250;neis</a></li><li><a href="#g:4">Fun&#231;&#245;es relacionadas aos fantasmas</a></li><li><a href="#g:5">Fun&#231;&#245;es relacionadas &#224; ultima fase da fun&#231;&#227;o play </a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:startingState">startingState</a> :: <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:ghostInsideHouseId">ghostInsideHouseId</a> :: Int</li><li class="src short"><a href="#v:houseCoords">houseCoords</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:elemID">elemID</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:selectPlayer">selectPlayer</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:isPacOrNot">isPacOrNot</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:compareOrientation">compareOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:changeOrientation">changeOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:playPacGhosts">playPacGhosts</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:nextPosition">nextPosition</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:isTunnel">isTunnel</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool</li><li class="src short"><a href="#v:tpTunnel">tpTunnel</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:isPacDeadAfter">isPacDeadAfter</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:doesPacEatAfter">doesPacEatAfter</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:returnGhostsHome">returnGhostsHome</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:eatDeadGhosts">eatDeadGhosts</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int</li><li class="src short"><a href="#v:playPacFood">playPacFood</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:isPiece">isPiece</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool</li><li class="src short"><a href="#v:changeGhostsToMega">changeGhostsToMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:turnBack">turnBack</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:exeGhostPlay">exeGhostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:ghostMovement">ghostMovement</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:ghostHitsPacman">ghostHitsPacman</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#227;o referente &#224; primeira fase da fun&#231;&#227;o play e as auxiliares a esta</h1></a><div class="top"><p class="src"><a id="v:startingState" class="def">startingState</a> :: <a href="Types.html#t:State" title="Types">State</a> <a href="#v:startingState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ghostInsideHouseId" class="def">ghostInsideHouseId</a> :: Int <a href="#v:ghostInsideHouseId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:houseCoords" class="def">houseCoords</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:houseCoords" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><p>Primeira fase da fun&#231;&#227;o play (correspondente ao player ter ou n&#227;o a orienta&#231;&#227;o da pr&#243;xima jogada)</p><p>Nota: Se o id n&#227;o corresponder a nenhum jogador ou o id corresponder a um fantasma devolve o estado original</p></div></div><div class="top"><p class="src"><a id="v:elemID" class="def">elemID</a> <a href="#v:elemID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>o ID que queremos ver se existe na lista de todos os players</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>A lista de todos os players</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Resultado de percorrer a lista e verificar se existe</p></td></tr></table></div><div class="doc"><p>Verifica se o id recebido na fun&#231;&#227;o play corresponde a algum jogador da lista</p></div></div><div class="top"><p class="src"><a id="v:selectPlayer" class="def">selectPlayer</a> <a href="#v:selectPlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>ID correspondente ao player selecionado </p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os players</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de players com o player selecionado pelo ID &#224; cabe&#231;a da lista</p></td></tr></table></div><div class="doc"><p>P&#245;e o player com id correspondente no inicio da lista de players
   Nota: Nesta fun&#231;&#227;o se o ID n&#227;o existir na lista gera um resultado infinito, mas como se aplica
primeiro a elemID (definida acima) na fun&#231;&#227;o play esta s&#243; se realiza se o ID existir e por isso 
n&#227;o vai returnar um resultado infinito </p></div></div><div class="top"><p class="src"><a id="v:isPacOrNot" class="def">isPacOrNot</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool <a href="#v:isPacOrNot" class="selflink">#</a></p><div class="doc"><p>Verifica se o jodador &#233; ou n&#227;o o Pacman</p></div></div><div class="top"><p class="src"><a id="v:compareOrientation" class="def">compareOrientation</a> <a href="#v:compareOrientation" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>A pr&#243;xima orienta&#231;&#227;o </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O orienta&#231;&#227;o atual do player</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Resultado de verificar se s&#227;o diferentes</p></td></tr></table></div><div class="doc"><p>Verifica se a orienta&#231;&#227;o atual &#233; diferente &#224; da pr&#243;xima jogada</p></div></div><div class="top"><p class="src"><a id="v:changeOrientation" class="def">changeOrientation</a> <a href="#v:changeOrientation" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o a atribuir</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de players com o player a atribuir a orienta&#231;&#227;o &#224; sua cabe&#231;a</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Resultado </p></td></tr></table></div><div class="doc"><p>Muda a orienta&#231;&#227;o do player </p></div></div><a href="#g:2" id="g:2"><h1>Segunda fase da fun&#231;&#227;o play e as auxiliares a esta</h1></a><div class="top"><p class="src"><a id="v:playPacGhosts" class="def">playPacGhosts</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:playPacGhosts" class="selflink">#</a></p><div class="doc"><p>Segunda fase da fun&#231;&#227;o play, em que se verifica se na pr&#243;xima posi&#231;&#227;o existe fantasmas ou se o Pacman entra num t&#250;nel
    e aplica-se o respetivo efeito </p></div></div><div class="top"><p class="src"><a id="v:nextPosition" class="def">nextPosition</a> <a href="#v:nextPosition" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>A orienta&#231;&#227;o para onde se desloca o player </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>As coordenadas atuais do player</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>As coordenadas resultantes de se movimentar na orienta&#231;&#227;o para onde se desloca </p></td></tr></table></div><div class="doc"><p>Devolve as coordenadas em fun&#231;&#227;o da orienta&#231;&#227;o em que se desloca    </p></div></div><a href="#g:3" id="g:3"><h1>Fun&#231;&#245;es relacionadas aos t&#250;neis</h1></a><div class="top"><p class="src"><a id="v:isTunnel" class="def">isTunnel</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool <a href="#v:isTunnel" class="selflink">#</a></p><div class="doc"><p>Verifica se as coordenadas correspondem a um t&#250;nel</p></div></div><div class="top"><p class="src"><a id="v:tpTunnel" class="def">tpTunnel</a> <a href="#v:tpTunnel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Maze onde os jogadores est&#227;o inseridos</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>coordenada onde o player se encontra antes de passar o t&#250;nel</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>coordenada resultante de passar o t&#250;nel</p></td></tr></table></div><div class="doc"><p>Altera as coordenadas do pacman conforme o lado em que entra no t&#250;nel</p></div></div><a href="#g:4" id="g:4"><h1>Fun&#231;&#245;es relacionadas aos fantasmas</h1></a><div class="top"><p class="src"><a id="v:isPacDeadAfter" class="def">isPacDeadAfter</a> <a href="#v:isPacDeadAfter" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O jogador escolhido para realizar a jogada</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista dos restantes jogadores</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Resultado</p></td></tr></table></div><div class="doc"><p>Verifica se existe um Ghost ,na pr&#243;xima posi&#231;&#227;o do Pacman, que pode matar o pacman</p></div></div><div class="top"><p class="src"><a id="v:doesPacEatAfter" class="def">doesPacEatAfter</a> <a href="#v:doesPacEatAfter" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O jogador escolhido para realizar a jogada</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista dos restantes jogadores</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Resultado</p></td></tr></table></div><div class="doc"><p>Mesma coisa que isPacDeadAfter mas verifica se existe ghost 
 | ,na pr&#243;xima posi&#231;&#227;o do Pacman, que possa ser comido</p></div></div><div class="top"><p class="src"><a id="v:returnGhostsHome" class="def">returnGhostsHome</a> <a href="#v:returnGhostsHome" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>O maze onde os jogadores est&#227;o inseridos (necess&#225;rio para calcular as coordenadas da casa) </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O player que realiza a jogada (necess&#225;rio para comparar a sua coord com os restasntes players)</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista dos restantes jogadores</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista dos restantes jogadores ap&#243;s alterar o estado dos fantasmas que foram comidos</p></td></tr></table></div><div class="doc"><p>Muda o estado de todos os fantasmas que o Pacman tenha comido numa jogada</p></div></div><div class="top"><p class="src"><a id="v:eatDeadGhosts" class="def">eatDeadGhosts</a> <a href="#v:eatDeadGhosts" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O pacman escolhido para realizar a jogada </p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>A lista dos restantes players </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Os pontos resultantes de o pacman comer (ou n&#227;o) algum fantasma</p></td></tr></table></div><div class="doc"><p>Devolve a quantidade de pontos correspondentes &#224; quantidade de fantasmas que o Pacman ir&#225; comer na pr&#243;xima jogada</p></div></div><a href="#g:5" id="g:5"><h1>Fun&#231;&#245;es relacionadas &#224; ultima fase da fun&#231;&#227;o play </h1></a><div class="top"><p class="src"><a id="v:playPacFood" class="def">playPacFood</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:playPacFood" class="selflink">#</a></p><div class="doc"><p>Fase final da fun&#231;&#227;o play, em que o pacman muda de coordenadas (ou n&#227;o) e se atribui os respetivos efeitos da pr&#243;xima pe&#231;a</p></div></div><div class="top"><p class="src"><a id="v:isPiece" class="def">isPiece</a> <a href="#v:isPiece" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>O maze onde se encontra todas as pe&#231;as </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></td><td class="doc"><p>A pe&#231;a que queremos verificar se existe</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>As coordenadas onde estamos a verificar se existe a pe&#231;a escolhida</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Resultado</p></td></tr></table></div><div class="doc"><p>Verifica se as coordenadas correspondem a uma certa pe&#231;a </p></div></div><div class="top"><p class="src"><a id="v:changeGhostsToMega" class="def">changeGhostsToMega</a> <a href="#v:changeGhostsToMega" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de todos os jogadores exceto o escolhido para a jogada </p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Resultado de mudar todos os fantasmas ap&#243;s o Pacman comer a Big Food</p></td></tr></table></div><div class="doc"><p>Aplica a todos os fantasmas o efeito correspondente ao Pacman estar em modo Mega</p></div></div><div class="top"><p class="src"><a id="v:turnBack" class="def">turnBack</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:turnBack" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exeGhostPlay" class="def">exeGhostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:exeGhostPlay" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ghostMovement" class="def">ghostMovement</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:ghostMovement" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ghostHitsPacman" class="def">ghostHitsPacman</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:ghostHitsPacman" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>