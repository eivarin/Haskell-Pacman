<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa5</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>A Tarefa 5 consiste em fazer com que os fantasmas persigam o pacman ou fujam dele, quando est&#225; em modo Mega, ou seja criar os movimentos deles.
= Objetivos
Para n&#243;s os objetivos foram:
 * Criar bots para os fantasmas em que cada um tivesse uma estrat&#233;gia diferente 
de perseguir o pacman, assim como no jogo original.
 * Criar 4 tipos de modos para os fantasmas: 
   * o modo Frightened , em que o objetivo dos fantasmas &#233; fugir do pacman estando &#8220;mortos&#8221;; 
   * o modo Chase, em que cada um dos 4 fantasma persegue-o de acordo com a sua determinada estrat&#233;gia; 
   * o Modo Scatter, em que cada um dos quatro fantasmas move-se para cada 
um dos diferentes cantos e circula &#224; volta do obst&#225;culo mais pr&#243;ximo; 
   e por fim o modo InHouse em que o objetivo &#233; fazer com que o fantasma saia da casa.
 * Os diferentes fantasmas, aos quais nomeamos Blinky, Pinky, Inky e Clyde, 
teriam que ter um perfil diferente em Chase mode, ou seja, a Blinky perseguiria o pacman de 
acordo com as suas coordenadas, a Pinky perseguiria o pacman de acordo com 4a coordenada 
&#224; frente do pacman, a Inky perseguiria a coordenada do objetivo da Blinky multiplicada por 2 e 
a Clyde perseguiria as coordenadas do pacman se tivesse a uma dist&#226;ncia menor ou igual a 8 caso 
contr&#225;rio reagiria como se estivesse em Scatter mode.
= Discuss&#227;o e conclus&#227;o
 Apesar de termos atingido todos os objetivos achamos que os bots est&#227;o num n&#237;vel de dificuldade elevada
para o jogador</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:decideGhostsActions">decideGhostsActions</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:removePacFromList">removePacFromList</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:GhoState" title="Types">GhoState</a>]</li><li class="src short"><a href="#v:getGhostMode">getGhostMode</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:GhostMode" title="Types">GhostMode</a></li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:profileBlinky">profileBlinky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:profilePinky">profilePinky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:profileInky">profileInky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:profileClyde">profileClyde</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:getPlay">getPlay</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:getBestPlay">getBestPlay</a> :: [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:distanceOnPlain">distanceOnPlain</a> :: (<a href="Types.html#t:Coords" title="Types">Coords</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; Float</li><li class="src short"><a href="#v:getPlaysList">getPlaysList</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:getPlaysList1">getPlaysList1</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:parseWallPlays">parseWallPlays</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:getPossiblePlays">getPossiblePlays</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:getPossiblePlays1">getPossiblePlays1</a> :: (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:translateCoordsByOr">translateCoordsByOr</a> :: (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; Int -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:getPointOfDoubleDistance">getPointOfDoubleDistance</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:getPacOrAndCoor">getPacOrAndCoor</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)</li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:frightenedMode">frightenedMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:inHouseMode">inHouseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:getRandomIndex">getRandomIndex</a> :: Int -&gt; Int -&gt; Int</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o objetivo desta tarefa que ao receber o estado atual do jogo devolve a lista de melhores plays
 | para cada fantasma de modo a reagir ao pacman</p></div></div><div class="top"><p class="src"><a id="v:decideGhostsActions" class="def">decideGhostsActions</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:decideGhostsActions" class="selflink">#</a></p><div class="doc"><p>Devolve a lista plays que os fantasmas ir&#227;o realizar de acordo com o seu modo atual</p></div></div><div class="top"><p class="src"><a id="v:removePacFromList" class="def">removePacFromList</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:GhoState" title="Types">GhoState</a>] <a href="#v:removePacFromList" class="selflink">#</a></p><div class="doc"><p>Remove o pacman da lista de players </p></div></div><div class="top"><p class="src"><a id="v:getGhostMode" class="def">getGhostMode</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:GhostMode" title="Types">GhostMode</a> <a href="#v:getGhostMode" class="selflink">#</a></p><div class="doc"><p>Recebe o modo do fantasma</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que devolve a play que permite aos fantasmas quando est&#227;o vivos 
 | e em modo chase seguirem o pacman, cada um com uma estrat&#233;gia diferente</p></div></div><div class="top"><p class="src"><a id="v:profileBlinky" class="def">profileBlinky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:profileBlinky" class="selflink">#</a></p><div class="doc"><p>Perfil do fantasma, Blinky, com perfil 1, que realiza plays em fun&#231;&#227;o do objetivo ser 
 | a coordenada do pacman</p></div></div><div class="top"><p class="src"><a id="v:profilePinky" class="def">profilePinky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:profilePinky" class="selflink">#</a></p><div class="doc"><p>Perfil do fantasma, Pinky, com perfil 2, que realiza plays em fun&#231;&#227;o do seu objetivo ser
 | a quarta coordenada &#224; frente do pacman de acordo com a orienta&#231;&#227;o do mesmo</p></div></div><div class="top"><p class="src"><a id="v:profileInky" class="def">profileInky</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:profileInky" class="selflink">#</a></p><div class="doc"><p>Perfil do fantasma, Inky, com perfil 3, que realiza plays em fun&#231;&#227;o do seu objetivo ser 
 | a coordenada que corresponde ao ponto do dobro da dist&#226;ncia entre o pacman 
 | e do fantasma, Blinky </p></div></div><div class="top"><p class="src"><a id="v:profileClyde" class="def">profileClyde</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:profileClyde" class="selflink">#</a></p><div class="doc"><p>Perfil do fantasma, Clyde, com perfil 4, que realiza plays consoante a dist&#226;ncia
 | ao pacman, se for maior que 8 tem o mesmo objetivo do fantasma Blinky caso contr&#225;rio
 | tem como objetivo o mesmo que teria no modo Scatter</p></div></div><div class="top"><p class="src"><a id="v:getPlay" class="def">getPlay</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:getPlay" class="selflink">#</a></p><div class="doc"><p>De acordo com um jogador, um maze e um objetivo devolve a melhor play 
 | para atingir o objetivo pretendido</p></div></div><div class="top"><p class="src"><a id="v:getBestPlay" class="def">getBestPlay</a> <a href="#v:getBestPlay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</td><td class="doc"><p>lista da orienta&#231;&#227;o para a pr&#243;xima coordenada em par</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>coordenada do objetivo (para onde o player pretende ir)</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>melhor orienta&#231;&#227;o para atingir o objetivo</p></td></tr></table></div><div class="doc"><p>Devolve a orienta&#231;&#227;o da pr&#243;xima melhor coordenada para o player se mover
 | de acordo com a menor dist&#226;ncia da mesma at&#233; ao objetivo</p></div></div><div class="top"><p class="src"><a id="v:distanceOnPlain" class="def">distanceOnPlain</a> :: (<a href="Types.html#t:Coords" title="Types">Coords</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; Float <a href="#v:distanceOnPlain" class="selflink">#</a></p><div class="doc"><p>Calcula a dist&#226;ncia no plano de uma coordenada a outra</p></div></div><div class="top"><p class="src"><a id="v:getPlaysList" class="def">getPlaysList</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] <a href="#v:getPlaysList" class="selflink">#</a></p><div class="doc"><p>Devolve a lista de jogadas poss&#237;veis do player sem nunca voltar para tr&#225;s ou embater numa parede</p></div></div><div class="top"><p class="src"><a id="v:getPlaysList1" class="def">getPlaysList1</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] <a href="#v:getPlaysList1" class="selflink">#</a></p><div class="doc"><p>Mesma funcionalidade da getPlaysList mas usada na Tarefa6</p></div></div><div class="top"><p class="src"><a id="v:parseWallPlays" class="def">parseWallPlays</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] <a href="#v:parseWallPlays" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getPossiblePlays" class="def">getPossiblePlays</a> <a href="#v:getPossiblePlays" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Player em quest&#227;o</p></td></tr><tr><td class="src">-&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</td><td class="doc"><p>Lista de todos os pares orienta&#231;&#227;o da pr&#243;x. jogada e pr&#243;x coordenada</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que calcula todas as jogadas poss&#237;veis de o jogador realizar sem 
 | nunca voltar para tr&#225;s no Maze</p></div></div><div class="top"><p class="src"><a id="v:getPossiblePlays1" class="def">getPossiblePlays1</a> :: (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; [(<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>)] <a href="#v:getPossiblePlays1" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o com a mesma funcionalidade da getPossiblePlays e que ser&#225; usada na
 | tarefa 6</p></div></div><div class="top"><p class="src"><a id="v:translateCoordsByOr" class="def">translateCoordsByOr</a> :: (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) -&gt; Int -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:translateCoordsByOr" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que dado um inteiro e uma orienta&#231;&#227;o altera a coordenada
 | &#218;til para definir o objetivo de certos perfis dos Fantasmas</p></div></div><div class="top"><p class="src"><a id="v:getPointOfDoubleDistance" class="def">getPointOfDoubleDistance</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:getPointOfDoubleDistance" class="selflink">#</a></p><div class="doc"><p>Dadas duas coordenadas devolve a respetiva coordenada ao ponto do dobro da dist&#226;ncia
 | Fun&#231;&#227;o usada para calcular o objetivo Inky, que depende das coords do pac e da Blinky</p></div></div><div class="top"><p class="src"><a id="v:getPacOrAndCoor" class="def">getPacOrAndCoor</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, <a href="Types.html#t:Coords" title="Types">Coords</a>) <a href="#v:getPacOrAndCoor" class="selflink">#</a></p><div class="doc"><p>Dado um player recebe um par orienta&#231;&#227;o e coordenadas </p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>Dado um state e um perfil de um Fantasma define a coord objetivo quando
 | se encontra em modo Scatter ou seja cada Fantasma tem correspond&#234;ncia com um canto do maze</p></div></div><div class="top"><p class="src"><a id="v:frightenedMode" class="def">frightenedMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:frightenedMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que devolve uma play aleatorizada e que &#233; executada
 | quando os fantasmas est&#227;o em modo Frightened</p></div></div><div class="top"><p class="src"><a id="v:inHouseMode" class="def">inHouseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:inHouseMode" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que permite aos fantasmas que est&#227;o na casa sairem e
 | que &#233; utilizada quando existirem fantasmas em modo InHouse</p></div></div><div class="top"><p class="src"><a id="v:getRandomIndex" class="def">getRandomIndex</a> :: Int -&gt; Int -&gt; Int <a href="#v:getRandomIndex" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>